# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âœ… å·²å®Œæˆçš„å‡†å¤‡å·¥ä½œ

âœ”ï¸ **HBC-Tool æºç å·²é›†æˆ** (172 ä¸ªæ–‡ä»¶)  
âœ”ï¸ **Python æ¡¥æ¥æ¨¡å—å·²é…ç½®** (api_bridge.py)  
âœ”ï¸ **Chaquopy ä¾èµ–å·²æ›´æ–°** (construct, colorama, docopt)  
âœ”ï¸ **é¡¹ç›®ç»“æ„å®Œæ•´** (æ‰€æœ‰å¿…éœ€æ–‡ä»¶å·²åˆ›å»º)

---

## ğŸ“‹ æ¥ä¸‹æ¥çš„ 3 æ­¥

### æ­¥éª¤ 1: åœ¨ Android Studio ä¸­æ‰“å¼€é¡¹ç›®

1. å¯åŠ¨ **Android Studio**
2. é€‰æ‹© **File â†’ Open**
3. æµè§ˆåˆ° `E:\AI\HBCTool`
4. ç‚¹å‡» **OK**

â±ï¸ **ç­‰å¾…æ—¶é—´**: 5-10 åˆ†é’Ÿï¼ˆé¦–æ¬¡ Gradle åŒæ­¥ï¼‰

---

### æ­¥éª¤ 2: é¦–æ¬¡æ„å»º

#### æ–¹å¼ A: ä½¿ç”¨ Android Studioï¼ˆæ¨èï¼‰

1. ç­‰å¾… Gradle åŒæ­¥å®Œæˆï¼ˆåº•éƒ¨çŠ¶æ€æ æ˜¾ç¤º "Sync successful"ï¼‰
2. ç‚¹å‡»å·¥å…·æ çš„ç»¿è‰² â–¶ï¸ **Run** æŒ‰é’®
3. é€‰æ‹©ç›®æ ‡è®¾å¤‡ï¼ˆçœŸæœºæˆ–æ¨¡æ‹Ÿå™¨ï¼‰

#### æ–¹å¼ B: ä½¿ç”¨å‘½ä»¤è¡Œ

```powershell
# Windows PowerShell
cd E:\AI\HBCTool
.\gradlew.bat assembleDebug

# æˆ–ä½¿ç”¨å¿«æ·è„šæœ¬
.\build.bat
```

â±ï¸ **é¦–æ¬¡æ„å»ºæ—¶é—´**: çº¦ 10-15 åˆ†é’Ÿ

**Chaquopy ä¼šè‡ªåŠ¨ä¸‹è½½**:
- Python 3.8 è¿è¡Œæ—¶ (~20MB)
- pip ä¾èµ– (construct, colorama, docopt)
- Native åº“ç¼–è¯‘

---

### æ­¥éª¤ 3: å®‰è£…åˆ°è®¾å¤‡å¹¶æµ‹è¯•

#### çœŸæœºæµ‹è¯•ï¼ˆæ¨èï¼‰

1. **å¯ç”¨å¼€å‘è€…é€‰é¡¹**:
   - è®¾ç½® â†’ å…³äºæ‰‹æœº â†’ è¿ç»­ç‚¹å‡»"ç‰ˆæœ¬å·" 7 æ¬¡
   
2. **å¯ç”¨ USB è°ƒè¯•**:
   - è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹ â†’ USB è°ƒè¯•

3. **è¿æ¥è®¾å¤‡**:
   - ç”¨ USB æ•°æ®çº¿è¿æ¥ç”µè„‘
   - æ‰‹æœºä¸Šæˆæƒ USB è°ƒè¯•

4. **å®‰è£…è¿è¡Œ**:
   - Android Studio ä¼šè‡ªåŠ¨è¯†åˆ«è®¾å¤‡
   - ç‚¹å‡» Run æŒ‰é’®

#### è·å–æµ‹è¯•æ–‡ä»¶

ä½ éœ€è¦ä¸€ä¸ª `.bundle` æ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚å¯ä»¥ï¼š

**é€‰é¡¹ 1**: ä» React Native é¡¹ç›®ç”Ÿæˆ
```bash
npx react-native bundle \
  --platform android \
  --dev false \
  --entry-file index.js \
  --bundle-output index.android.bundle
```

**é€‰é¡¹ 2**: ä»å·²å®‰è£…çš„ RN åº”ç”¨æå–
```bash
# 1. æå– APK
adb pull /data/app/<åŒ…å>/base.apk

# 2. è§£å‹ APKï¼ˆæ”¹åä¸º .zipï¼‰
# 3. åœ¨ assets/ ç›®å½•æŸ¥æ‰¾ index.android.bundle
```

**é€‰é¡¹ 3**: ä½¿ç”¨ç¤ºä¾‹æ–‡ä»¶
- ä»äº’è”ç½‘æœç´¢ "hermes bytecode sample"
- æˆ–ä½¿ç”¨ä»»ä½• React Native åº”ç”¨çš„ bundle æ–‡ä»¶

---

## ğŸ¯ é¢„æœŸç»“æœ

### é¦–æ¬¡å¯åŠ¨

1. App å¯åŠ¨
2. æ—¥å¿—æ˜¾ç¤º: `âœ“ Python å¼•æ“å·²å¯åŠ¨`
3. ç•Œé¢æ˜¾ç¤ºæ–‡ä»¶é€‰æ‹©æŒ‰é’®

### åæ±‡ç¼–æµ‹è¯•

1. ç‚¹å‡»"é€‰æ‹© Bundle æ–‡ä»¶"
2. é€‰æ‹© `.bundle` æ–‡ä»¶
3. æ—¥å¿—æ˜¾ç¤º: `âœ“ å·²åŠ è½½ Bundle æ–‡ä»¶: xxx.bundle`
4. ç‚¹å‡»"åæ±‡ç¼–"
5. æ—¥å¿—è¾“å‡º:
   ```
   æ­£åœ¨åæ±‡ç¼–: /data/user/0/.../index.android.bundle
   æ–‡ä»¶å¤§å°: XXX bytes
   æ–‡ä»¶å¤´: c61fbc03...
   Hermes å­—èŠ‚ç  [ Source Hash: xxx, HBC Version: 84 ]
   âœ“ åæ±‡ç¼–å®Œæˆï¼
   ```

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: Gradle åŒæ­¥å¤±è´¥

**é”™è¯¯**: `Could not resolve com.chaquo.python:gradle:15.0.1`

**è§£å†³**:
```kotlin
// æ£€æŸ¥ settings.gradle.kts æ˜¯å¦åŒ…å«:
repositories {
    maven { url = uri("https://chaquo.com/maven") }
}
```

---

### é—®é¢˜ 2: Python æ¨¡å—æ‰¾ä¸åˆ°

**é”™è¯¯**: `ModuleNotFoundError: No module named 'hbctool'`

**æ£€æŸ¥**:
- [ ] `app/src/main/python/hbctool/__init__.py` å­˜åœ¨
- [ ] æ‰§è¡Œ `Build â†’ Clean Project` å†é‡æ–°æ„å»º

---

### é—®é¢˜ 3: æ„å»ºå¤ªæ…¢

**ä¼˜åŒ–**:

åœ¨ `gradle.properties` ä¸­æ·»åŠ :
```properties
org.gradle.daemon=true
org.gradle.parallel=true
org.gradle.caching=true
```

---

### é—®é¢˜ 4: æ¨¡æ‹Ÿå™¨è¿è¡Œå¤±è´¥

**åŸå› **: é»˜è®¤åªæ”¯æŒ ARM æ¶æ„

**è§£å†³**: æ·»åŠ  x86 æ”¯æŒ

```kotlin
// app/build.gradle.kts
ndk {
    abiFilters += listOf("x86", "x86_64", "armeabi-v7a", "arm64-v8a")
}
```

âš ï¸ æ³¨æ„: APK ä½“ç§¯ä¼šå¢åŠ çº¦ 30MB

---

## ğŸ“Š æ€§èƒ½åŸºå‡†

| æ“ä½œ | é¢„æœŸæ—¶é—´ |
|------|----------|
| é¦–æ¬¡ Gradle åŒæ­¥ | 5-10 åˆ†é’Ÿ |
| é¦–æ¬¡æ„å»º (Debug) | 10-15 åˆ†é’Ÿ |
| åç»­æ„å»º (å¢é‡) | 30-60 ç§’ |
| App å†·å¯åŠ¨ | < 2 ç§’ |
| Python åˆå§‹åŒ– | < 500ms |
| åæ±‡ç¼– 1MB Bundle | 2-5 ç§’ |

---

## ğŸ“ ä¸‹ä¸€æ­¥å­¦ä¹ 

### äº†è§£é¡¹ç›®ç»“æ„

- [README.md](../../../README.md) - å®Œæ•´æ–‡æ¡£
- [NEXT_STEPS.md](../../../NEXT_STEPS.md) - è¿›é˜¶ä¼˜åŒ–
- [api_bridge.py](api_bridge.py) - Python æ¡¥æ¥ä»£ç 
- [MainActivity.kt](../java/com/hbctool/android/MainActivity.kt) - Android ä¸»é€»è¾‘

### è¿›é˜¶åŠŸèƒ½å¼€å‘

1. **æ·»åŠ è¯­æ³•é«˜äº®**: ä½¿ç”¨ Sora Editor æ˜¾ç¤º HASM ä»£ç 
2. **æ–‡ä»¶å¯¼å‡ºåŠŸèƒ½**: å®ç° ZIP æ‰“åŒ…å¯¼å‡º
3. **ç‰ˆæœ¬è‡ªåŠ¨æ£€æµ‹**: æ ¹æ®æ–‡ä»¶å¤´åˆ¤æ–­ Hermes ç‰ˆæœ¬
4. **å¤šæ–‡ä»¶æ‰¹å¤„ç†**: æ”¯æŒä¸€æ¬¡åæ±‡ç¼–å¤šä¸ªæ–‡ä»¶

---

## âœ… éªŒæ”¶æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œç¡®ä¿:

- [ ] é¡¹ç›®åœ¨ Android Studio ä¸­æ— ç¼–è¯‘é”™è¯¯
- [ ] èƒ½æˆåŠŸæ„å»º APK
- [ ] App èƒ½åœ¨çœŸæœº/æ¨¡æ‹Ÿå™¨ä¸Šå¯åŠ¨
- [ ] æ—¥å¿—æ˜¾ç¤º "Python å¼•æ“å·²å¯åŠ¨"
- [ ] æ–‡ä»¶é€‰æ‹©åŠŸèƒ½æ­£å¸¸
- [ ] åæ±‡ç¼–è‡³å°‘èƒ½è¾“å‡ºæ–‡ä»¶ä¿¡æ¯

---

**ğŸ‰ ç¥ä½ å¼€å‘é¡ºåˆ©ï¼é‡åˆ°é—®é¢˜éšæ—¶æŸ¥çœ‹æ—¥å¿—æˆ–æ Issueã€‚**
